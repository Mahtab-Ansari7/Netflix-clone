<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Netflix</title>
    <link rel="shortcut icon" href="home_img/icon.png" type="home_img/icon" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-black">
    <div class="flex justify-center">
      <div
        class="hidden z-0 lg:block md:bg-center md:bg-cover md:bg-no-repeat absolute"
      >
        <img src="home_img/netfix_bg.jpg" alt="image not found" />
      </div>
      <div class="flex p-4">
        <img src="home_img/logo.png" alt="" class="w-48 h-full z-10" />
      </div>
      <div
        class="container absolute top-32 w-[350px] h-[600px] bg-black bg-opacity-80 text-white"
      >
        <h1 class="text-white mt-16 ml-8 text-3xl">Sign In</h1>
        <form
          action="intro.html"
          id="signInForm"
          name="myform"
          onsubmit="validateSignInForm()"
          method="post"
          class="mt-8 ml-8"
        >
          <input
            type="email"
            placeholder="Enter Email"
            id="email"
            required
            name="femail"
            class="w-[96%] h-12 bg-gray-800 text-white rounded-md text-lg p-2 placeholder-gray-400 focus:outline-none focus:ring focus:border-red-500"
          />
          <div class="formerror text-red-500"></div>

          <input
            type="password"
            placeholder="Enter Password"
            id="password"
            required
            name="fpass"
            class="w-[96%] h-12 bg-gray-800 text-white rounded-md text-lg p-2 mt-4 placeholder-gray-400 focus:outline-none focus:ring focus:border-red-500"
          />
          <div class="formerror text-red-500"></div>

          <input
            type="submit"
            value="Sign In"
            class="w-[96%] h-12 bg-red-600 text-white rounded-md text-lg mt-4 cursor-pointer"
          />
          <input type="checkbox" class="mt-4" />
          <label class="text-gray-500">Remember me</label>
          <a href="#" class="float-right mt-4 mx-2 text-gray-500">Need help?</a>
        </form>
        <div class="content absolute ml-8 mt-16">
          <h2 class="text-gray-500">
            New to Netflix?
            <a href="signup.html" class="text-red-600">Sign up now.</a>
          </h2>
          <br />
          <h2 class="text-gray-500">
            This page is protected by Google reCAPTCHA to ensure you're not a
            bot. Learn more.
          </h2>
        </div>
      </div>
    </div>

    <script>
      function seterror(id, error) {
        const element = document.getElementById(id);
        const errorElement = element.nextElementSibling;
        errorElement.innerHTML = error;
      }

      function validateSignInForm() {
        const signInForm = document.getElementById("signInForm");
        signInForm.addEventListener("submit", function (event) {
          event.preventDefault();
          const email = document.getElementById("email").value;
          const password = document.getElementById("password").value;

          var returnval = true;
          if (!isValidEmail(email)) {
            seterror("email", "*Invalid email format");
            returnval = false;
          }

          if (!isValidPassword(password)) {
            seterror(
              "password",
              "*Password must be at least 6 characters long"
            );
            returnval = false;
          }

          if (returnval) {
            console.log("Sign-in success!");
            resetForm();
          }
        });
      }

      function isValidEmail(email) {
        const emailPattern = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
        return emailPattern.test(email);
      }

      function isValidPassword(password) {
        return password.length >= 6;
      }

      function resetForm() {
        document.getElementById("email").value = "";
        document.getElementById("password").value = "";
        const errorMessages = document.getElementsByClassName("formerror");
        for (let i = 0; i < errorMessages.length; i++) {
          errorMessages[i].innerHTML = "";
        }

        window.location.href = "intro.html";
      }

      validateSignInForm();
    </script>
  </body>
</html>
